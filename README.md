```markdown
 Визуализатор графа зависимостей Rust

Инструмент для анализа и визуализации зависимостей пакетов Rust на основе файлов Cargo.lock.

 Особенности

-  Анализ зависимостей из Cargo.lock файлов
-  Визуализация графа зависимостей в формате PNG
-  Гибкая настройка через CSV конфигурацию
-  Фильтрация пакетов по имени
-  Поддержка загрузки файлов по URL и из локальной файловой системы

 Требования

- Python 3.7+
- Graphviz
- Библиотеки: `requests`, `graphviz`

 Установка

1. Установите зависимости Python:
```bash
pip install requests graphviz
```

2. Установите Graphviz:

**Ubuntu/Debian:**
```bash
sudo apt-get install graphviz
```

**macOS:**
```bash
brew install graphviz
```

**Windows:**
Скачайте с [официального сайта](https://graphviz.org/download/)

## Конфигурация

Создайте файл `config.csv` в формате:

```csv
key,value
package_name,имя_пакета
repo,путь_или_url
mode,file|url
version,версия_пакета
output,имя_файла_графа
deep,глубина_анализа
filter,фильтр
```

 Параметры конфигурации

| Параметр | Описание | Обязательный |
|----------|-----------|--------------|
| `package_name` | Имя анализируемого пакета | Да |
| `repo` | Путь к файлу/директории или URL Cargo.lock | Да |
| `mode` | Режим работы: `file` (локальный) или `url` (удаленный) | Да |
| `version` | Версия анализируемого пакета | Да |
| `output` | Имя выходного файла (без расширения) | Нет |
| `deep` | Глубина анализа (положительное число) | Нет |
| `filter` | Подстрока для фильтрации пакетов | Нет |

 Пример конфигурации

```csv
key,value
package_name,ignore
repo,https://raw.githubusercontent.com/BurntSushi/ripgrep/master/Cargo.lock
mode,url
version,0.4.25
output,graph
deep,3
filter,
```

# Использование

```bash
python main.py [путь_к_config.csv]
```

Если путь к конфигурации не указан, используется `config.csv` в текущей директории.

 Что делает программа

1. **Чтение конфигурации** - загружает и проверяет параметры из CSV файла
2. **Вывод параметров** - отображает все настройки в формате ключ-значение
3. **Загрузка Cargo.lock** - получает файл блокировки зависимостей из указанного источника
4. **Анализ зависимостей** - парсит зависимости указанного пакета и версии
5. **Визуализация** - создает граф зависимостей и сохраняет его как PNG файл

 Выходные данные

- Граф зависимостей в формате PNG
- Список прямых зависимостей в консоли
- Визуальное представление связей между пакетами

 Обработка ошибок

Программа обрабатывает следующие ошибки:
- Отсутствие конфигурационного файла
- Неверный формат параметров
- Отсутствие обязательных параметров
- Ошибки загрузки URL
- Отсутствие указанного пакета в Cargo.lock
- Некорректная глубина анализа

 Особенности реализации

- Парсинг Cargo.lock файлов вручную без использования cargo
- Поддержка обоих режимов работы: локальный и удаленный
- Фильтрация зависимостей на этапе построения графа
- Автоматическое открытие сгенерированного графа
- Чистка временных файлов после генерации
```
